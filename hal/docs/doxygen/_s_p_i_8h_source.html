<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ISIS-OBC Programmers Reference (HAL): include/hal/Drivers/SPI.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ISIS-OBC Programmers Reference (HAL)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_a413b7f902cba5167b433a6fe834d5bd.html">hal</a></li><li class="navelem"><a class="el" href="dir_b7677f812c622d4cf9b2c05ec9b7ed20.html">Drivers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SPI.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_s_p_i_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifndef SPI_H_</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#define SPI_H_</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;at91/commons.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;freertos/FreeRTOS.h&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;freertos/semphr.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#ab7b18750ddf0850461f926ae151ca7fa">   16</a></span>&#160;<span class="preprocessor">#define MHZ(x)  (x*1000*1000)</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a394a2873dd37e207bbab621b1f922ff4">   18</a></span>&#160;<span class="preprocessor">#define SPI_MAX_CLOCK_DIVIDER   254</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#ad7921668cd595d029130e5f03f673868">   22</a></span>&#160;<span class="preprocessor">#define SPI_MIN_BUS_SPEED   (BOARD_MCK / SPI_MAX_CLOCK_DIVIDER)</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a4534a75ec00f2a2b163f365fe937b8d2">   26</a></span>&#160;<span class="preprocessor">#define SPI_MAX_BUS_SPEED   MHZ(10)</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98">   31</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98">_SPIdriverState</a> {</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98ac80d619a0c59a815561a040e93843851">   32</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98ac80d619a0c59a815561a040e93843851">idle_spiState</a>  = 0x00,         </div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98a1b4bd0c5c048e4543763e0006e2f536c">   33</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98a1b4bd0c5c048e4543763e0006e2f536c">uninitialized_spiState</a>  = 0x33,</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98ae7730f23bd9e9f8db754504e37557e6d">   34</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98ae7730f23bd9e9f8db754504e37557e6d">error_spiState</a> = 0x55,         </div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98a612bb8651c35fe2ed52bcd894f1d7c4f">   35</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98a612bb8651c35fe2ed52bcd894f1d7c4f">transfer_spiState</a> = 0xFF       </div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;} <a class="code" href="_s_p_i_8h.html#adf73e2313b729ebdd97ea7c826a72f8e">SPIdriverState</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874">   41</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874">_SPItransferMode</a> {</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874a80324323dc6ec8a8cd849fbc4b32a681">   42</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874a80324323dc6ec8a8cd849fbc4b32a681">mode0_spi</a> = 0x2,</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874a4a978b8a885e6e3ef9789d7e2f9c44ec">   43</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874a4a978b8a885e6e3ef9789d7e2f9c44ec">mode1_spi</a> = 0x0,</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874ad5410228e04eae736455b52e71535db3">   44</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874ad5410228e04eae736455b52e71535db3">mode2_spi</a> = 0x3,</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874adb7e56f09b04344d824ee46c74ebf97e">   45</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874adb7e56f09b04344d824ee46c74ebf97e">mode3_spi</a> = 0x1 </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;} <a class="code" href="_s_p_i_8h.html#a7f93d5ad801081c43d07c16a485867ef">SPImode</a>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6">   51</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6">_SPIbus</a> {</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6aa651e3e1fac5f58464fb666dd104ef9b">   52</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6aa651e3e1fac5f58464fb666dd104ef9b">bus0_spi</a> = 0,</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6acdd70592083582c90147893522ed36dc">   53</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6acdd70592083582c90147893522ed36dc">bus1_spi</a> = 1,</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6a64f7ae4c18c2c648b06f5207eb27ffbe">   54</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6a64f7ae4c18c2c648b06f5207eb27ffbe">both_spi</a> = 2 </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;} <a class="code" href="_s_p_i_8h.html#a2da14910f3571d7d1589b782dfc2e0e4">SPIbus</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04">   60</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04">_SPIslave</a> {</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a5afb41b0aaf1a7c95247377d15185dc4">   61</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a5afb41b0aaf1a7c95247377d15185dc4">slave0_spi</a> = 0, </div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04ac259ae7aac73bcc2f49835b06bf1565d">   62</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04ac259ae7aac73bcc2f49835b06bf1565d">slave1_spi</a> = 1, </div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04afa2ca4fcd916b4ed9bd125cba25ae671">   63</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04afa2ca4fcd916b4ed9bd125cba25ae671">slave2_spi</a> = 2, </div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04aa5842aef0eb16391b71734ba9e242a91">   64</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04aa5842aef0eb16391b71734ba9e242a91">slave3_spi</a> = 3, </div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a381cfe92ceed9703064ec8690136d040">   65</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a381cfe92ceed9703064ec8690136d040">slave4_spi</a> = 4, </div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a36c42f24c6376ef9b992bf3b0455305a">   66</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a36c42f24c6376ef9b992bf3b0455305a">slave5_spi</a> = 5, </div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04aeab53ab0fe44957c37955534ddee8d36">   67</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04aeab53ab0fe44957c37955534ddee8d36">slave6_spi</a> = 6, </div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a229dad81b732c33d2d81d521575610de">   68</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a229dad81b732c33d2d81d521575610de">slave7_spi</a> = 7, </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;} <a class="code" href="_s_p_i_8h.html#afafec5b220b475a8dab921347cc3afe1">SPIslave</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html">   71</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___s_p_islave_parameters.html">_SPIslaveParameters</a> {</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#acad8656638ac0103c64452b7c8465665">   72</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a2da14910f3571d7d1589b782dfc2e0e4">SPIbus</a> <a class="code" href="struct___s_p_islave_parameters.html#acad8656638ac0103c64452b7c8465665">bus</a>; </div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#aaabacfe69897a24d394365b8eaed803d">   73</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#a7f93d5ad801081c43d07c16a485867ef">SPImode</a> <a class="code" href="struct___s_p_islave_parameters.html#aaabacfe69897a24d394365b8eaed803d">mode</a>; </div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#a65e8324c59a5afaaeee1be2133027835">   74</a></span>&#160;    <a class="code" href="_s_p_i_8h.html#afafec5b220b475a8dab921347cc3afe1">SPIslave</a> <a class="code" href="struct___s_p_islave_parameters.html#a65e8324c59a5afaaeee1be2133027835">slave</a>; </div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#abc26c862604541dd57bbe00a90ab22ee">   75</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct___s_p_islave_parameters.html#abc26c862604541dd57bbe00a90ab22ee">dlybs</a>; </div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#a26d849969e49e577c7b7d8e2f75064a4">   76</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="struct___s_p_islave_parameters.html#a26d849969e49e577c7b7d8e2f75064a4">dlybct</a>; </div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#aa8492ec1dd089c8d69a3061a1f563dfc">   77</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct___s_p_islave_parameters.html#aa8492ec1dd089c8d69a3061a1f563dfc">busSpeed_Hz</a>; </div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="struct___s_p_islave_parameters.html#a5cad6343fbadb6c95d9c1f7e6dd5671f">   82</a></span>&#160;    portTickType <a class="code" href="struct___s_p_islave_parameters.html#a5cad6343fbadb6c95d9c1f7e6dd5671f">postTransferDelay</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;} <a class="code" href="_s_p_i_8h.html#adaced50924fb5b3a48235290fa541a60">SPIslaveParameters</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html">   85</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct___s_p_itransfer.html">_SPItransfer</a> {</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html#a3e35253854829fa996d89e107d4e7f03">   86</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct___s_p_itransfer.html#a3e35253854829fa996d89e107d4e7f03">transferSize</a>; </div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html#a3915635cec3635dbab33dc506aac5e76">   87</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct___s_p_itransfer.html#a3915635cec3635dbab33dc506aac5e76">writeData</a>; </div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html#a670d280fe0c68d7a1d111657affc5e5d">   88</a></span>&#160;    <span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="struct___s_p_itransfer.html#a670d280fe0c68d7a1d111657affc5e5d">readData</a>; </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html#ad7a6e2a69e1a55b869544b8638ee2f8f">   90</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="struct___s_p_islave_parameters.html">SPIslaveParameters</a> *<a class="code" href="struct___s_p_itransfer.html#ad7a6e2a69e1a55b869544b8638ee2f8f">slaveParams</a>; </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// Following members are not inputs for SPI_writeRead</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html#a1502ae18430721b90f509ae0edb09624">   93</a></span>&#160;    xSemaphoreHandle <a class="code" href="struct___s_p_itransfer.html#a1502ae18430721b90f509ae0edb09624">semaphore</a>; </div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="struct___s_p_itransfer.html#afc726a08a43d0337c7266bc7169368c6">   94</a></span>&#160;    void (*callback)(SystemContext context, xSemaphoreHandle sem); </div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;} <a class="code" href="_s_p_i_8h.html#a72b007c81abbfa0fb1158b34ee50fef8">SPItransfer</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">int</span> <a class="code" href="_s_p_i_8h.html#abec7644ad64720db654bc52c9cd5b305">SPI_start</a>(<a class="code" href="_s_p_i_8h.html#a2da14910f3571d7d1589b782dfc2e0e4">SPIbus</a> <a class="code" href="struct___s_p_islave_parameters.html#acad8656638ac0103c64452b7c8465665">bus</a>, <a class="code" href="_s_p_i_8h.html#afafec5b220b475a8dab921347cc3afe1">SPIslave</a> spi1_max_cs);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">void</span> <a class="code" href="_s_p_i_8h.html#a86e07b993babf5b5b87603daf3a1c02e">SPI_stop</a>(<a class="code" href="_s_p_i_8h.html#a2da14910f3571d7d1589b782dfc2e0e4">SPIbus</a> <a class="code" href="struct___s_p_islave_parameters.html#acad8656638ac0103c64452b7c8465665">bus</a>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keywordtype">int</span> <a class="code" href="_s_p_i_8h.html#ae7ce73433813ef5bbcadca5e108b609e">SPI_queueTransfer</a>(<a class="code" href="struct___s_p_itransfer.html">SPItransfer</a> *tx);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keywordtype">int</span> <a class="code" href="_s_p_i_8h.html#a17cff908e7983fd26b2a21159a27e772">SPI_writeRead</a>(<a class="code" href="struct___s_p_itransfer.html">SPItransfer</a> *tx);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<a class="code" href="_s_p_i_8h.html#adf73e2313b729ebdd97ea7c826a72f8e">SPIdriverState</a> <a class="code" href="_s_p_i_8h.html#ab7404f582886d1c3a3d8bb0903a60b53">SPI_getDriverState</a>(<a class="code" href="_s_p_i_8h.html#a2da14910f3571d7d1589b782dfc2e0e4">SPIbus</a> <a class="code" href="struct___s_p_islave_parameters.html#acad8656638ac0103c64452b7c8465665">bus</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* SPI_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="_s_p_i_8h_html_a86e07b993babf5b5b87603daf3a1c02e"><div class="ttname"><a href="_s_p_i_8h.html#a86e07b993babf5b5b87603daf3a1c02e">SPI_stop</a></div><div class="ttdeci">void SPI_stop(SPIbus bus)</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_a26d849969e49e577c7b7d8e2f75064a4"><div class="ttname"><a href="struct___s_p_islave_parameters.html#a26d849969e49e577c7b7d8e2f75064a4">_SPIslaveParameters::dlybct</a></div><div class="ttdeci">unsigned char dlybct</div><div class="ttdoc">Delay between consecutive bytes to the same slave. See AT91SAM9G20 datasheet. </div><div class="ttdef"><b>Definition:</b> SPI.h:76</div></div>
<div class="ttc" id="_s_p_i_8h_html_a195a83dc3985aecb3c3fa01c3e6dddf6"><div class="ttname"><a href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6">_SPIbus</a></div><div class="ttdeci">_SPIbus</div><div class="ttdef"><b>Definition:</b> SPI.h:51</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_abc26c862604541dd57bbe00a90ab22ee"><div class="ttname"><a href="struct___s_p_islave_parameters.html#abc26c862604541dd57bbe00a90ab22ee">_SPIslaveParameters::dlybs</a></div><div class="ttdeci">unsigned char dlybs</div><div class="ttdoc">Delay between CS-low to first clock transition. See AT91SAM9G20 datasheet. </div><div class="ttdef"><b>Definition:</b> SPI.h:75</div></div>
<div class="ttc" id="_s_p_i_8h_html_abec7644ad64720db654bc52c9cd5b305"><div class="ttname"><a href="_s_p_i_8h.html#abec7644ad64720db654bc52c9cd5b305">SPI_start</a></div><div class="ttdeci">int SPI_start(SPIbus bus, SPIslave spi1_max_cs)</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04ac259ae7aac73bcc2f49835b06bf1565d"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04ac259ae7aac73bcc2f49835b06bf1565d">slave1_spi</a></div><div class="ttdoc">slave1_spi In case of bus0, this is the RTC. </div><div class="ttdef"><b>Definition:</b> SPI.h:62</div></div>
<div class="ttc" id="_s_p_i_8h_html_a40021666dee75c253b36d987f9e0aa98ac80d619a0c59a815561a040e93843851"><div class="ttname"><a href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98ac80d619a0c59a815561a040e93843851">idle_spiState</a></div><div class="ttdoc">idle_spiState </div><div class="ttdef"><b>Definition:</b> SPI.h:32</div></div>
<div class="ttc" id="struct___s_p_itransfer_html_a1502ae18430721b90f509ae0edb09624"><div class="ttname"><a href="struct___s_p_itransfer.html#a1502ae18430721b90f509ae0edb09624">_SPItransfer::semaphore</a></div><div class="ttdeci">xSemaphoreHandle semaphore</div><div class="ttdoc">This binary sempahore will be passed to the callback. If the task is blocking on this semaphore for t...</div><div class="ttdef"><b>Definition:</b> SPI.h:93</div></div>
<div class="ttc" id="_s_p_i_8h_html_a195a83dc3985aecb3c3fa01c3e6dddf6a64f7ae4c18c2c648b06f5207eb27ffbe"><div class="ttname"><a href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6a64f7ae4c18c2c648b06f5207eb27ffbe">both_spi</a></div><div class="ttdoc">Only to be used with SPI_start and SPI_stop. </div><div class="ttdef"><b>Definition:</b> SPI.h:54</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04afa2ca4fcd916b4ed9bd125cba25ae671"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04afa2ca4fcd916b4ed9bd125cba25ae671">slave2_spi</a></div><div class="ttdoc">slave2_spi In case of bus0, this is the Supervisor Microcontroller(PIC). </div><div class="ttdef"><b>Definition:</b> SPI.h:63</div></div>
<div class="ttc" id="_s_p_i_8h_html_a3895996e5764094e11a3fd43da411874a80324323dc6ec8a8cd849fbc4b32a681"><div class="ttname"><a href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874a80324323dc6ec8a8cd849fbc4b32a681">mode0_spi</a></div><div class="ttdoc">mode0_spi </div><div class="ttdef"><b>Definition:</b> SPI.h:42</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_aa8492ec1dd089c8d69a3061a1f563dfc"><div class="ttname"><a href="struct___s_p_islave_parameters.html#aa8492ec1dd089c8d69a3061a1f563dfc">_SPIslaveParameters::busSpeed_Hz</a></div><div class="ttdeci">unsigned int busSpeed_Hz</div><div class="ttdoc">The speed in Hertz of the SPI clock signal. Minimum SPI_MIN_BUS_SPEED and Maximum SPI_MAX_BUS_SPEED...</div><div class="ttdef"><b>Definition:</b> SPI.h:77</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_a65e8324c59a5afaaeee1be2133027835"><div class="ttname"><a href="struct___s_p_islave_parameters.html#a65e8324c59a5afaaeee1be2133027835">_SPIslaveParameters::slave</a></div><div class="ttdeci">SPIslave slave</div><div class="ttdoc">The SPI slave with which a transfer should be made. </div><div class="ttdef"><b>Definition:</b> SPI.h:74</div></div>
<div class="ttc" id="_s_p_i_8h_html_a17cff908e7983fd26b2a21159a27e772"><div class="ttname"><a href="_s_p_i_8h.html#a17cff908e7983fd26b2a21159a27e772">SPI_writeRead</a></div><div class="ttdeci">int SPI_writeRead(SPItransfer *tx)</div></div>
<div class="ttc" id="_s_p_i_8h_html_a40021666dee75c253b36d987f9e0aa98ae7730f23bd9e9f8db754504e37557e6d"><div class="ttname"><a href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98ae7730f23bd9e9f8db754504e37557e6d">error_spiState</a></div><div class="ttdoc">error_spiState </div><div class="ttdef"><b>Definition:</b> SPI.h:34</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_acad8656638ac0103c64452b7c8465665"><div class="ttname"><a href="struct___s_p_islave_parameters.html#acad8656638ac0103c64452b7c8465665">_SPIslaveParameters::bus</a></div><div class="ttdeci">SPIbus bus</div><div class="ttdoc">The SPI bus on which the transfer should be made. </div><div class="ttdef"><b>Definition:</b> SPI.h:72</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04a5afb41b0aaf1a7c95247377d15185dc4"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a5afb41b0aaf1a7c95247377d15185dc4">slave0_spi</a></div><div class="ttdoc">slave0_spi In case of bus0, this is the FRAM. </div><div class="ttdef"><b>Definition:</b> SPI.h:61</div></div>
<div class="ttc" id="struct___s_p_itransfer_html_a670d280fe0c68d7a1d111657affc5e5d"><div class="ttname"><a href="struct___s_p_itransfer.html#a670d280fe0c68d7a1d111657affc5e5d">_SPItransfer::readData</a></div><div class="ttdeci">volatile unsigned char * readData</div><div class="ttdoc">Location where the driver can write the data read from the SPI bus. Both buffers must be provided and...</div><div class="ttdef"><b>Definition:</b> SPI.h:88</div></div>
<div class="ttc" id="_s_p_i_8h_html_adaced50924fb5b3a48235290fa541a60"><div class="ttname"><a href="_s_p_i_8h.html#adaced50924fb5b3a48235290fa541a60">SPIslaveParameters</a></div><div class="ttdeci">struct _SPIslaveParameters SPIslaveParameters</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04aa5842aef0eb16391b71734ba9e242a91"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04aa5842aef0eb16391b71734ba9e242a91">slave3_spi</a></div><div class="ttdoc">slave3_spi Only available for bus1, uses a GPIO-connector pin, see board.h. </div><div class="ttdef"><b>Definition:</b> SPI.h:64</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_aaabacfe69897a24d394365b8eaed803d"><div class="ttname"><a href="struct___s_p_islave_parameters.html#aaabacfe69897a24d394365b8eaed803d">_SPIslaveParameters::mode</a></div><div class="ttdeci">SPImode mode</div><div class="ttdoc">The SPI mode in which a transfer should take place. </div><div class="ttdef"><b>Definition:</b> SPI.h:73</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04a36c42f24c6376ef9b992bf3b0455305a"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a36c42f24c6376ef9b992bf3b0455305a">slave5_spi</a></div><div class="ttdoc">slave5_spi Only available for bus1, uses a GPIO-connector pin, see board.h. </div><div class="ttdef"><b>Definition:</b> SPI.h:66</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html_a5cad6343fbadb6c95d9c1f7e6dd5671f"><div class="ttname"><a href="struct___s_p_islave_parameters.html#a5cad6343fbadb6c95d9c1f7e6dd5671f">_SPIslaveParameters::postTransferDelay</a></div><div class="ttdeci">portTickType postTransferDelay</div><div class="ttdef"><b>Definition:</b> SPI.h:82</div></div>
<div class="ttc" id="_s_p_i_8h_html_adf73e2313b729ebdd97ea7c826a72f8e"><div class="ttname"><a href="_s_p_i_8h.html#adf73e2313b729ebdd97ea7c826a72f8e">SPIdriverState</a></div><div class="ttdeci">enum _SPIdriverState SPIdriverState</div></div>
<div class="ttc" id="_s_p_i_8h_html_a195a83dc3985aecb3c3fa01c3e6dddf6aa651e3e1fac5f58464fb666dd104ef9b"><div class="ttname"><a href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6aa651e3e1fac5f58464fb666dd104ef9b">bus0_spi</a></div><div class="ttdoc">bus0_spi Used for transfers within the board. </div><div class="ttdef"><b>Definition:</b> SPI.h:52</div></div>
<div class="ttc" id="_s_p_i_8h_html_ae7ce73433813ef5bbcadca5e108b609e"><div class="ttname"><a href="_s_p_i_8h.html#ae7ce73433813ef5bbcadca5e108b609e">SPI_queueTransfer</a></div><div class="ttdeci">int SPI_queueTransfer(SPItransfer *tx)</div></div>
<div class="ttc" id="_s_p_i_8h_html_afafec5b220b475a8dab921347cc3afe1"><div class="ttname"><a href="_s_p_i_8h.html#afafec5b220b475a8dab921347cc3afe1">SPIslave</a></div><div class="ttdeci">enum _SPIslave SPIslave</div></div>
<div class="ttc" id="_s_p_i_8h_html_a40021666dee75c253b36d987f9e0aa98"><div class="ttname"><a href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98">_SPIdriverState</a></div><div class="ttdeci">_SPIdriverState</div><div class="ttdef"><b>Definition:</b> SPI.h:31</div></div>
<div class="ttc" id="struct___s_p_itransfer_html"><div class="ttname"><a href="struct___s_p_itransfer.html">_SPItransfer</a></div><div class="ttdef"><b>Definition:</b> SPI.h:85</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04">_SPIslave</a></div><div class="ttdeci">_SPIslave</div><div class="ttdef"><b>Definition:</b> SPI.h:60</div></div>
<div class="ttc" id="_s_p_i_8h_html_a72b007c81abbfa0fb1158b34ee50fef8"><div class="ttname"><a href="_s_p_i_8h.html#a72b007c81abbfa0fb1158b34ee50fef8">SPItransfer</a></div><div class="ttdeci">struct _SPItransfer SPItransfer</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04a229dad81b732c33d2d81d521575610de"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a229dad81b732c33d2d81d521575610de">slave7_spi</a></div><div class="ttdoc">slave7_spi Only available for bus1, uses a GPIO-connector pin, see board.h. </div><div class="ttdef"><b>Definition:</b> SPI.h:68</div></div>
<div class="ttc" id="_s_p_i_8h_html_a40021666dee75c253b36d987f9e0aa98a612bb8651c35fe2ed52bcd894f1d7c4f"><div class="ttname"><a href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98a612bb8651c35fe2ed52bcd894f1d7c4f">transfer_spiState</a></div><div class="ttdoc">transfer_spiState </div><div class="ttdef"><b>Definition:</b> SPI.h:35</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04a381cfe92ceed9703064ec8690136d040"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04a381cfe92ceed9703064ec8690136d040">slave4_spi</a></div><div class="ttdoc">slave4_spi Only available for bus1, uses a GPIO-connector pin, see board.h. </div><div class="ttdef"><b>Definition:</b> SPI.h:65</div></div>
<div class="ttc" id="_s_p_i_8h_html_a3895996e5764094e11a3fd43da411874adb7e56f09b04344d824ee46c74ebf97e"><div class="ttname"><a href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874adb7e56f09b04344d824ee46c74ebf97e">mode3_spi</a></div><div class="ttdoc">mode3_spi </div><div class="ttdef"><b>Definition:</b> SPI.h:45</div></div>
<div class="ttc" id="struct___s_p_itransfer_html_a3e35253854829fa996d89e107d4e7f03"><div class="ttname"><a href="struct___s_p_itransfer.html#a3e35253854829fa996d89e107d4e7f03">_SPItransfer::transferSize</a></div><div class="ttdeci">unsigned int transferSize</div><div class="ttdoc">Number of bytes to transfer. </div><div class="ttdef"><b>Definition:</b> SPI.h:86</div></div>
<div class="ttc" id="_s_p_i_8h_html_a7f93d5ad801081c43d07c16a485867ef"><div class="ttname"><a href="_s_p_i_8h.html#a7f93d5ad801081c43d07c16a485867ef">SPImode</a></div><div class="ttdeci">enum _SPItransferMode SPImode</div></div>
<div class="ttc" id="_s_p_i_8h_html_a195a83dc3985aecb3c3fa01c3e6dddf6acdd70592083582c90147893522ed36dc"><div class="ttname"><a href="_s_p_i_8h.html#a195a83dc3985aecb3c3fa01c3e6dddf6acdd70592083582c90147893522ed36dc">bus1_spi</a></div><div class="ttdoc">bus1_spi Used for transfers ourside the board. </div><div class="ttdef"><b>Definition:</b> SPI.h:53</div></div>
<div class="ttc" id="_s_p_i_8h_html_a2da14910f3571d7d1589b782dfc2e0e4"><div class="ttname"><a href="_s_p_i_8h.html#a2da14910f3571d7d1589b782dfc2e0e4">SPIbus</a></div><div class="ttdeci">enum _SPIbus SPIbus</div></div>
<div class="ttc" id="struct___s_p_itransfer_html_a3915635cec3635dbab33dc506aac5e76"><div class="ttname"><a href="struct___s_p_itransfer.html#a3915635cec3635dbab33dc506aac5e76">_SPItransfer::writeData</a></div><div class="ttdeci">const unsigned char * writeData</div><div class="ttdoc">Location of the data to be written. Both buffers must be provided and must accommodate transferSize b...</div><div class="ttdef"><b>Definition:</b> SPI.h:87</div></div>
<div class="ttc" id="struct___s_p_islave_parameters_html"><div class="ttname"><a href="struct___s_p_islave_parameters.html">_SPIslaveParameters</a></div><div class="ttdef"><b>Definition:</b> SPI.h:71</div></div>
<div class="ttc" id="_s_p_i_8h_html_a40021666dee75c253b36d987f9e0aa98a1b4bd0c5c048e4543763e0006e2f536c"><div class="ttname"><a href="_s_p_i_8h.html#a40021666dee75c253b36d987f9e0aa98a1b4bd0c5c048e4543763e0006e2f536c">uninitialized_spiState</a></div><div class="ttdoc">uninitialized_spiState </div><div class="ttdef"><b>Definition:</b> SPI.h:33</div></div>
<div class="ttc" id="_s_p_i_8h_html_a3895996e5764094e11a3fd43da411874ad5410228e04eae736455b52e71535db3"><div class="ttname"><a href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874ad5410228e04eae736455b52e71535db3">mode2_spi</a></div><div class="ttdoc">mode2_spi </div><div class="ttdef"><b>Definition:</b> SPI.h:44</div></div>
<div class="ttc" id="struct___s_p_itransfer_html_ad7a6e2a69e1a55b869544b8638ee2f8f"><div class="ttname"><a href="struct___s_p_itransfer.html#ad7a6e2a69e1a55b869544b8638ee2f8f">_SPItransfer::slaveParams</a></div><div class="ttdeci">const SPIslaveParameters * slaveParams</div><div class="ttdoc">SPI transaction parameters that usually stay the same for a given slave. </div><div class="ttdef"><b>Definition:</b> SPI.h:90</div></div>
<div class="ttc" id="_s_p_i_8h_html_a8177bf134900d569d9401374b9042e04aeab53ab0fe44957c37955534ddee8d36"><div class="ttname"><a href="_s_p_i_8h.html#a8177bf134900d569d9401374b9042e04aeab53ab0fe44957c37955534ddee8d36">slave6_spi</a></div><div class="ttdoc">slave6_spi Only available for bus1, uses a GPIO-connector pin, see board.h. </div><div class="ttdef"><b>Definition:</b> SPI.h:67</div></div>
<div class="ttc" id="_s_p_i_8h_html_a3895996e5764094e11a3fd43da411874"><div class="ttname"><a href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874">_SPItransferMode</a></div><div class="ttdeci">_SPItransferMode</div><div class="ttdef"><b>Definition:</b> SPI.h:41</div></div>
<div class="ttc" id="_s_p_i_8h_html_ab7404f582886d1c3a3d8bb0903a60b53"><div class="ttname"><a href="_s_p_i_8h.html#ab7404f582886d1c3a3d8bb0903a60b53">SPI_getDriverState</a></div><div class="ttdeci">SPIdriverState SPI_getDriverState(SPIbus bus)</div></div>
<div class="ttc" id="_s_p_i_8h_html_a3895996e5764094e11a3fd43da411874a4a978b8a885e6e3ef9789d7e2f9c44ec"><div class="ttname"><a href="_s_p_i_8h.html#a3895996e5764094e11a3fd43da411874a4a978b8a885e6e3ef9789d7e2f9c44ec">mode1_spi</a></div><div class="ttdoc">mode1_spi </div><div class="ttdef"><b>Definition:</b> SPI.h:43</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 18 2021 15:04:30 for ISIS-OBC Programmers Reference (HAL) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
